Go 语言中使用组合实现对象特性的描述。对象的内部使用结构体内嵌组合对象应该具有的特性，对外通过接口暴露能使用的特性。

接口是一种类型，也是一种抽象结构，不会暴露所含数据的格式、类型及结构。

#### 声明

Go语言的接口在命名时，一般会在单词后面添加 er，如有写操作的接口叫 Writer，有字符串功能的接口叫 Stringer，有关闭功能的接口叫 Closer 等。

参数列表、返回值列表：参数列表和返回值列表中的参数变量名可以被忽略，例如：

```go
type writer interface{
    Write([]byte) error
}
```

#### 实现

一个接口的方法，不一定需要由一个类型完全实现，接口的方法可以通过在类型中嵌入其他类型或者结构体来实现。也就是说，使用者并不关心某个接口的方法是通过一个类型完全实现的，还是通过多个结构嵌入到一个结构体中拼凑起来共同实现的。

**如何判断类型是否实现了某接口：**

```go
// 如果 *MyType 未实现接口 Someother，则这段代码在编译时会报错
var _ Someother = (*MyType)(nil)
```

#### 接口的嵌套组合

一个接口可以包含一个或多个其他的接口，这相当于直接将这些内嵌接口的方法列举在外层接口中一样。只要接口的所有方法被实现，则这个接口中的所有嵌套接口的方法均可以被调用。

#### 接口和类型之间的转换

##### 类型断言

```go
value, ok := x.(T)
```

如果 T 是接口类型，类型断言会检查 x 的动态类型是否满足 T。如果检查成功，x 的动态值不会被提取，返回值是一个类型为 T 的接口值。(相当于是把 value 赋值给了接口类型 T)

##### 接口转换为其他接口

实现某个接口的类型同时实现了另外一个接口，此时可以在两个接口间转换。

#### 空接口

空接口的内部实现保存了对象的类型和指针。使用空接口保存一个数据的过程会比直接用数据对应类型的变量保存稍慢。因此在开发中，应在需要的地方使用空接口，而不是在所有地方使用空接口。

##### 空接口的值比较

1. 类型不同的空接口间的比较结果不相同。

2. 不能比较空接口中的动态值，会触发恐慌。

   | 类  型          | 说  明                                                       |
   | --------------- | ------------------------------------------------------------ |
   | map             | 宕机错误，不可比较                                           |
   | 切片（[]T）     | 宕机错误，不可比较                                           |
   | 通道（channel） | 可比较，必须由同一个 make 生成，也就是同一个通道才会是 true，否则为 false |
   | 数组（[容量]T） | 可比较，编译期知道两个数组是否一致                           |
   | 结构体          | 可比较，可以逐个比较结构体的值                               |
   | 函数            | 可比较                                                       |
