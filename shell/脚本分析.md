##### 示例一

在docker中看到了一段脚本：

```shell
#!/bin/sh
set -e

# first arg is `-f` or `--some-option`
if [ "${1#-}" != "$1" ]; then
	set -- php-fpm "$@"
fi

exec "$@"
```

`set -e` 表示一旦脚本下面的命令有非0值的输出，则终止脚本的运行

`${1#-}` 的用法参考 《变量.md》

`set --` 其实`--`是一个单独的shell特性，和set无关，它代表了一个命令的选项（options）已经结束，后面的都已经是这个命令的参数了。

例如：

```text
grep -- -v file
```

如果你想搜索file中的字符串'-v'，直接`grep '-v' file`或是其他方法都是导致`-v`被识别为grep的选项，当加入`--`代表选项已经没有了，-v被理解为第一个参数，file被理解为第二个参数，于是就可以在file搜索'-v'了。

对于`set --` 也是一样`--`标志着set的选项已经结束，后面的都是set的参数了。

为什么要这么写呢？很明显是为了防止set后面设置的变量里含有`-`导致被解释为set自身的选项，如`set -- -e`这种情况。

